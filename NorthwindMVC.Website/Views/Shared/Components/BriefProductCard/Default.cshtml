@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model BriefProductViewModel
@inject Microsoft.AspNetCore.Hosting.IWebHostEnvironment hostingEnv

@{
    var path = System.IO.Path.Combine(hostingEnv.WebRootPath, "images", "Products", $"product{Model.Id}.jpg");
    var defaultPath = System.IO.Path.Combine(hostingEnv.WebRootPath, "images", "Products", $"Default.jpg");
    string imageFilename = "Default.jpg";
    if (System.IO.File.Exists(path))
    {
        imageFilename = $"product{Model.Id}.jpg";
    }
}

<div class="card mb-2">
    <a asp-controller="Product" asp-action="Details" asp-route-id="@Model.Id">
        <img class="card-img-top" src="~/images/Products/@imageFilename" typeof="jpg"  alt="Image of @Model.Name" />
    </a>
    <div class="card-body">
        <h4 class="card-title">@Model.Name</h4>
        <p class="card-text">Price: @Model.Price - In Stock: @Model.AmountLeft</p>
    </div>
</div>